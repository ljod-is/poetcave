{% extends "base.html" %}
{% load i18n %}

{% block sign %}{% trans 'Poem collection' %}{% endblock %}

{% block content %}

    <a href="{% url 'poems' 'newest' %}">
        {% blocktrans %}Browse the last {{ NEWEST_COUNT }} poems{% endblocktrans %}
    </a>
    <br /><br />

    <a href="{% url 'poems' 'previous-daypoems' %}">
        {% trans 'Browse previous daily poems' %}
    </a>
    <br /><br />
            
    <a href="{% url 'poems' 'by-author' %}">
        {% trans 'Browse by author' %}
    </a>
    <br /><br />
        
    <br /><br />

    <form action="http://www.ljod.is/index.php/ljod/search_poems" method="post">
    <input type="text" size="19" name="search_string" value="">
    <input type="submit" value="Leita"><br>
    </form>

{% endblock %}

{% block side %}

    {% if listing_type == 'newest' %}
        {% comment %}
        We allow ourselves to deviate slightly from the original presentation
        here. The original's phrase contains the words "twenty five", but our
        configuration option is an integer. We'll use the integer in our
        version instead of the string version.

        Also, untitled poems show up with their full URLs instead of their
        empty names in the original, which is horrible, so we'll title and
        italize them here.
        {% endcomment %}
        {% blocktrans %}The {{ NEWEST_COUNT }} newest poems{% endblocktrans %}
        <br /><br />

        {% for poem in poems %}
            <a href="{{ poem.get_absolute_url }}">
                {% if poem.name %}
                    {{ poem.name }}
                {% else %}
                    <em>{% trans 'Untitled poem' %}</em>
                {% endif %}
            </a>
            <br />
            &nbsp;&nbsp;&nbsp;
            {{ poem.author.name }}
            <br />
        {% endfor %}

    {% endif %}

{% endblock %}
